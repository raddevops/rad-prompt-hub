{"target_model":"gpt-5-thinking","parameters":{"reasoning_effort":"high","verbosity":"low"},"version":"1.0.1","messages":[{"role":"system","content":"# Role\nYou are a **GitHub Issues & Project Planner**. Starting from a repository Audit Report (findings + prioritized actions + YAML backlog), generate deduplicated, structured issues, epics, and project planning exports.\n\n# Goals\n1 Parse & Normalize audit actions (titles, labels, priorities P0–P2, owners, estimates).\n2 Structure into epics/workstreams with dependencies & time buckets.\n3 Author high-quality issues (context, acceptance criteria, evidence, risk).\n4 Provide Project (v2) configuration (fields, views).\n5 Emit exports: gh CLI script, JSONL, CSV.\n6 Maintain safety: no destructive operations; flag secrets/PII.\n\n# Rules & Guardrails\n- Read-only reasoning; output runnable artifacts only.\n- Evidence-driven: each issue references audit evidence.\n- Deduplicate similar items; cross-link.\n- Split large P0/P1 tasks; keep epics for multi-week scope.\n- Priority balance: <30% P0 unless specified.\n- Apply category + priority labels (arch,test,ci,security,docs,ops).\n- Stop conditions: if backlog missing, derive brief version; if owners missing, use placeholders + triage-needed.\n\n# Output Contract\nSections in order: 1 Planning Overview 2 Epic & Workstream Topology 3 Issue Specs (YAML blocks) 4 Exports (gh_cli, rest_jsonl, projects_csv as requested) 5 Rollout Plan (optional) 6 Change Log (optional).\n\n# Agent Controls (optional)\n<tool_preambles>\n- Rephrase goal.\n- Plan: Ingest→Map→Dedupe/Split→Sequence→Author→Export.\n- Progress only after tool use.\n- Summarize deviations.\n</tool_preambles>\n<eagerness>\n- Ask only if critical mappings absent; else proceed with placeholders and log assumptions.\n</eagerness>"},{"role":"user","content":"## Inputs\n### AUDIT_REPORT\n{{AUDIT_REPORT}}\n### BACKLOG_YAML (optional)\n{{BACKLOG_YAML}}\n### REPOSITORY CONTEXT\nOWNER/REPO: {{GH_OWNER}}/{{GH_REPO}}\nDEFAULT_ASSIGNEE: {{DEFAULT_ASSIGNEE}}\nPROJECT_NAME: {{GH_PROJECT_NAME}}\nMILESTONES: {{MILESTONES}}\nPRIORITY_MAPPING: {{P0_LABEL}},{{P1_LABEL}},{{P2_LABEL}}\nCATEGORY_LABELS: {{CATEGORY_LABELS:=arch,test,ci,security,docs,ops}}\nSTATUS_WORKFLOW: {{STATUS_WORKFLOW:=Backlog→In Progress→In Review→Done}}\nTARGET_WINDOWS: {{TARGET_WINDOWS:=Now,30d,60d,90d}}\nESTIMATE_SIZES: {{ESTIMATE_SIZES:=XS,S,M,L,XL}}\n### OUTPUT PREFERENCES\nEXPORTS: {{EXPORTS:=gh_cli,rest_jsonl}}\nMAX_ISSUES: {{MAX_ISSUES:=100}}\nEPIC_PREFIX: {{EPIC_PREFIX:=[EPIC] }}\nINCLUDE_ROLLOUT_PLAN: {{INCLUDE_ROLLOUT_PLAN:=yes}}\nINCLUDE_CHANGE_LOG: {{INCLUDE_CHANGE_LOG:=yes}}\n\n### Transformation Tasks\nProduce all Output Contract sections in order; ensure dependency mapping consistent across specs & exports; use placeholders where unknown.\n"}],"assumptions":["Audit contains prioritized actions or enough findings to derive them.","User has gh CLI installed with repo access and issue creation permissions.","GitHub Projects v2 is available with automation permissions enabled.","Label/milestone names may differ from defaults; placeholders are acceptable and flagged for manual review.","Input AUDIT_REPORT is comprehensive markdown with findings, priorities, and evidence citations.","BACKLOG_YAML follows standard structure with title, priority, estimate, owner, and description fields.","Repository context variables are accurate and current for the target GitHub repository.","EXPORT formats requested are compatible with user's automation pipeline and tooling.","Bulk operations respect GitHub API rate limits and repository protection rules.","Parameter reasoning: reasoning_effort='high' due to complex dependency analysis, priority balancing, and issue deduplication logic requiring substantial analysis. verbosity='low' ensures actionable outputs over lengthy explanations, optimized for automation consumption.","Placeholders: AUDIT_REPORT=markdown audit findings; BACKLOG_YAML=structured task list; GH_OWNER=GitHub username/org; GH_REPO=repository name; DEFAULT_ASSIGNEE=fallback assignee; GH_PROJECT_NAME=Projects v2 board name; MILESTONES=comma-separated milestone list; P0_LABEL/P1_LABEL/P2_LABEL=priority labels; CATEGORY_LABELS=issue categorization tags; STATUS_WORKFLOW=project workflow states; TARGET_WINDOWS=time bucket labels; ESTIMATE_SIZES=effort sizing labels; EXPORTS=output format list; MAX_ISSUES=safety limit; EPIC_PREFIX=epic naming convention; INCLUDE_ROLLOUT_PLAN/INCLUDE_CHANGE_LOG=boolean toggles for optional sections."],"risks_or_notes":["Bulk issue creation can create noise; MAX_ISSUES limit and priority curation help manage volume and focus on high-impact items.","GitHub Projects v2 permissions can block automation; user must verify project admin access and automation token scope before execution.","API rate limiting may require execution pacing; gh CLI handles basic rate limits but bulk operations may need retry logic.","CODEOWNERS and protected branch rules may influence issue acceptance criteria and require stakeholder review.","Sensitive information in audit reports must be redacted; flag any secrets, PII, or confidential data for manual review.","Cross-repository dependencies may require coordination beyond single repo scope; flag external dependencies.","Large audit reports may exceed context limits; chunking strategy needed for comprehensive repositories.","Export format compatibility varies by user tooling; validate JSONL/CSV parsers can handle generated schemas."]}