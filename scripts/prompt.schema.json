{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "PromptSpec",
  "type": "object",
  "required": ["target_model", "parameters", "messages"],
  "properties": {
    "target_model": {"type": "string"},
    "parameters": {
      "type": "object",
      "required": ["reasoning_effort", "verbosity"],
      "properties": {
        "reasoning_effort": {"type": "string"},
        "verbosity": {"type": "string"}
      },
      "additionalProperties": true
    },
    "messages": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["role", "content"],
        "properties": {
          "role": {"type": "string", "enum": ["system", "user"]},
          "content": {"type": "string"}
        },
        "additionalProperties": true
      }
    },
    "version": {
      "type": "string",
      "pattern": "^([0-9]+)\\.([0-9]+)\\.([0-9]+)(?:-([0-9A-Za-z-]+(?:\\.[0-9A-Za-z-]+)*))?(?:\\+([0-9A-Za-z-]+(?:\\.[0-9A-Za-z-]+)*))?$",
      "description": "Semantic version for prompts requiring deterministic behavior. Format: MAJOR.MINOR.PATCH"
    },
    "assumptions": {"type": "array", "items": {"type": "string"}},
    "risks_or_notes": {"type": "array", "items": {"type": "string"}}
  },
  "additionalProperties": true
}
